---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;
/* ==========================================================================
   Ajustes finais: barra superior e rodapé roxos, alinhados à sidebar
   ========================================================================== */

/* Sidebar */
.sidebar {
  background: #9F468F !important;
  color: white !important;
  position: fixed;
  top: 20;
  left: 0;
  height: 100vh;
  width: 220px;
  padding: 5em 1.5em 2em 1.5em;
  overflow-y: auto;
}

/* Barra superior (masthead + menu) */
.masthead {
  background-color: #9F468F !important;
  color: white !important;
  margin-left: 400px; /* igual ao rodapé */
  padding: 1em 1.5em;  /* igual ao rodapé */
  right: 0;       /* vai até a borda direita da página */         /* ocupa o resto do espaço */
  border: none !important;
  position: fixed;    /* <- mantém no topo ao rolar */
  top: 0;              /* fica no topo do scroll */
  z-index: 1000;
  text-align: center;
}

.masthead__inner-wrap,
.greedy-nav {
  background-color: #9F468F !important;
}
.greedy-nav a,
.masthead__menu-item a {
  color: white !important;
}
.greedy-nav a:hover,
.masthead__menu-item a:hover {
  background: white !important;
  color: #9F468F !important;
}

/* Corrige posição do conteúdo principal */
#main, .page {
  margin-left: 50px; /* igual à largura da sidebar */
  margin-top: 80px; /* mantém o espaço para a barra superior */
  max-width: calc(100% - 50px); /* ocupa largura total menos a sidebar */
  padding-left: 0.5em; /* aproxima do final da sidebar */
  overflow-x: hidden; /* remove scroll horizontal */
  overflow-y: auto;   /* scroll vertical apenas se necessário */
}

#main * {
  max-width: 100%; /* força elementos internos a respeitarem largura do container */
  box-sizing: border-box; /* inclui padding e border na largura */
}

/* Rodapé roxo, colado à sidebar */
.page__footer {
  background-color: #9F468F !important;
  color: white !important;
  margin-left: 100px;
  border-top: none !important;
  padding: 1.5em 2em;
  text-align: center;
}
.page__footer a {
  color: white !important;
  text-decoration: underline;
}

/* =============================
   FUNDO GERAL CLARO — CORRIGE O CINZA ESCURO
   ============================= */
html, body, #main, .page__content, .page, .page__inner-wrap {
  background-color: #E6E6FA !important;
  color: #000000 !important;
  box-shadow: none !important;
  border: none !important;
  overflow-x: hidden;
}

/* Remove qualquer sobreposição de fundo cinza */
.wrapper, .initial-content, .content, .article, .site-content {
  background: #ffffff !important;
  color: #000000 !important;
}

/* 6. Estilização CORRIGIDA dos links das publicações */
.archive__item-title a {
  color: #9F468F !important;
}
/* CORRIGE O BOTÃO "DOWNLOAD PAPER" */
.archive__item .btn, .archive__item .btn--inverse {
  background: #9F468F !important;
  color: #9F468F !important;
  border: none !important;
  box-shadow: none !important;
}
.archive__item .btn:hover, .archive__item .btn--inverse:hover {
  background: #7c3870 !important;
}

/* ==========================================================================
   MEDIA QUERY PARA VERSÃO MOBILE (ECRÃS PEQUENOS)
   ========================================================================== */

@media screen and (max-width: 768px) {

  /* Desfaz a fixação da sidebar e torna-a num bloco normal no topo */
  .sidebar {
    position: relative !important;
    height: auto !important;
    width: 100% !important;
    padding-top: 1em !important;
    padding-bottom: 1em !important;
  }

  /* Faz a barra superior ocupar a largura toda */
  .masthead {
    width: 100% !important;
    margin-left: 0 !important;
  }

  /* Faz o conteúdo principal ocupar a largura toda, por baixo dos outros elementos */
  #main, .page, .page__footer {
    margin-left: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 1em;
  }
}
